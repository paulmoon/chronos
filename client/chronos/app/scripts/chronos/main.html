<banner></banner>
<div class="pane">
  <div class="left-pane" ng-controller="LeftPanelController as vm">
    <div class="media full-height">
      <div class="panel-group panel-height">
        <div class="search-area panel panel-info">
          <div class="panel-body">
            <form role="form" ng-submit="vm.updateKeywords()">
              <div class="input-group input-group-sm search-area-input-margin">
                <span class="input-group-addon" id="wordsAddon"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></span>
                <input type="text" class="form-control" aria-describedby="wordsAddon"
                       ng-model="vm.searchKeywords">
                <span class="input-group-addon" ng-click="vm.clearKeywords()">
                  <span class="glyphicon glyphicon-remove" style="margin-top:1.5px;" aria-hidden="true"></span>
                </span>
              </div>
            </form>
            <div class="input-group input-group-sm search-area-input-margin date-search-left">
              <span class="input-group-addon" id="startAddon"><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span></span>
              <input type="text" class="form-control search-area-input-margin" ng-change="vm.updateStartDate()"
                      aria-describedby="startAddon" ng-model="vm.searchDateStart" data-autoclose="1" 
                        data-max-date="{{vm.searchDateEnd}}" data-date-format="yyyy-MM-dd" readonly style="background-color: #fff;cursor:default;"
                          bs-datepicker>
              <span class="input-group-addon" ng-click="vm.clearStartDate()">
                <span class="glyphicon glyphicon-remove" style="margin-top:1.5px;" aria-hidden="true"></span>
              </span>
            </div>
            <div class="input-group input-group-sm search-area-input-margin date-search-right">
              <span class="input-group-addon" id="endAddon"><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span></span>
              <input type="text" class="form-control search-area-input-margin" ng-change="vm.updateEndDate()"
                      aria-describedby="endAddon" ng-model="vm.searchDateEnd" data-autoclose="1" 
                        data-min-date="{{vm.searchDateStart}}" data-date-format="yyyy-MM-dd" readonly style="background-color: #fff;cursor:default;"
                          bs-datepicker>
              <span class="input-group-addon" ng-click="vm.clearEndDate()">
                <span class="glyphicon glyphicon-remove" style="margin-top:1.5px;" aria-hidden="true"></span>
              </span>
            </div>
            <div class="input-group input-group-sm search-area-input-margin">
              <span class="input-group-addon"><span class="glyphicon glyphicon-tags" aria-hidden="true"></span></span>
              <tags-input class="bootstrap" data-ng-model="vm.addedTags" display-property="name" add-on-space="true"
                  add-on-enter="true" min-length="1" max-length="50" on-tag-added="vm.updateTags()" on-tag-removed="vm.updateTags()">
              </tags-input>
            </div>
            <div ng-if="vm.searchError" style="color:#CC0000;float:left">
              <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
              <strong>Error! </strong> {{ vm.searchError }}
            </div>
            <button type="button" ng-click="vm.searchEvents()" class="btn btn-primary btn-xs apply-filters"
                    style="outline:none">Apply Filters
            </button>
          </div>
        </div>
        <div class="events-area panel panel-primary">
          <div class="panel-body">
            <eventcard ng-repeat="event in vm.getEvents()"
                       event-name="event.name"
                       event-id="event.id"
                       description="event.description"
                       creator="event.creator"
                       creation-date="event.create_date"
                       start-date="event.start_date"
                       end-date="event.end_date"
                       place-id="event.place_id"
                       place-name="event.place_name"
                       vote="event.vote"
                       report="event.report"
                       tags="event.tags" 
                       edit-date="event.edit_date"
                       picture="event.picture"></eventcard>
          </div>
        </div>
      </div>
    </div>
  </div>
  <ng-include src="'scripts/calendar/calendar.html'"></ng-include>
</div>
